{##}
{% set rating = 3.7 %}
{% set customersTotal = 52 %}
{% set customersRecommended = 45 %}
{% set percent = customersRecommended / customersTotal * 100 %}
{% set customersVoted = {
    5: 54,
    4: 21,
    3: 18,
    2: 9,
    1: 16,
} %}
{% set customersVotedTotal = 0 %}
{% for count in customersVoted %}
    {% set customersVotedTotal = customersVotedTotal + count %}
{% endfor %}
<section class="w-full">
    <h2 class="text-gray-900 text-lg md:text-2xl font-medium uppercase">{{ 'heading_customers_ratings'|_ }}</h2>
    <div class="flex flex-row items-center space-x-4 mt-4 md:mt-5">
        <span class="text-gray-900 font-medium text-base md:text-lg">
            {{ rating }}
        </span>
        {% partial 'product-rating/rating' rating=rating %}
        <span class="text-gray-600 text-sm md:text-base">
            {{ 'text_customers_voted'|transRaw({
                text_customers_voted_total: customersVotedTotal,
            }) }}
        </span>
    </div>
    <div class="flex flex-row items-center space-x-4 mt-2">
        <span class="text-gray-900 font-medium text-base md:text-lg">
            {{ percent | round }}%
        </span>
        <span class="text-gray-900 font-medium text-base md:text-lg">
            {{ 'text_recommended'|_ }}
        </span>
        <span class="text-gray-600 text-sm md:text-base">
            {{ 'text_customers_recommended'|transRaw({
                text_customers_recommended: customersRecommended,
                text_customers_total: customersTotal,
            }) }}
        </span>
    </div>
    <ul class="flex flex-col md:space-y-2 mt-4">
        {% for count in customersVoted %}
            <li class="flex flex-row items-center space-x-4">
                {% partial 'product-rating/rating' rating = 7 - loop.index %}
                {% partial 'product-rating/progress'
                    count = count
                    countTotal = customersVotedTotal
                %}
                <span class="text-gray-900 text-sm md:text-base">
                    {{ count }}
                </span>
            </li>
        {% endfor %}
    </ul>
</section>
