{% set percent = customersRecommended / customersTotal * 100 %}
{% set customersVotedTotal = 0 %}
{% for count in customersVoted %}
    {% set customersVotedTotal = customersVotedTotal + count %}
{% endfor %}

<div class="flex flex-row items-center space-x-4">
    <div class="text-gray-900 font-medium text-lg">
        {{ rating }}
    </div>
    {% partial 'product-item/rating' rating = rating %}
    <div class="text-gray-600 text-base">
        ({{ customersVotedTotal }} ratings)
    </div>
</div>

<div class="flex flex-row items-center space-x-4 mt-2">
    <div class="text-gray-900 font-medium text-lg">
        {{ percent | round }}%
    </div>
    <div class="text-gray-900 font-medium text-lg">
        Recommended
    </div>
    <div class="text-gray-600 text-base">
        ({{ customersRecommended }} of {{ customersTotal }} customers)
    </div>
</div>

<ul class="flex flex-col-reverse space-y-reverse-2 mt-4">
    {% for count in customersVoted %}
        <li class="flex flex-row items-center space-x-4">
            {% partial 'product-item/rating' rating = loop.index + 1 %}
            {% partial 'product-item/progress' count=count countTotal=customersVotedTotal %}
            <div class="text-gray-900 text-base">
                {{ count }}
            </div>
        </li>
    {% endfor %}
</ul>
