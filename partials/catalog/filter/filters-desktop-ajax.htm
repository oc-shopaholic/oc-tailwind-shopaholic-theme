{##}
{% for obProperty in obProductPropertyList %}
    {% if obProperty.hasValue() %}
    <details
        open
        class="_filter-details js-details"
        id = "{{obProperty.id}}"
        data-property = "property[{{obProperty.id}}]"
    >
        <summary class="js-accordion-summary text-base font-medium text-blue-800 cursor-pointer mb-3 hover:text-blue-700 focus-visible:text-blue-800 focus-visible:outline-2 focus-visible:outline-dotted focus-visible:outline-blue-800">
            {{ obProperty.name }}
        </summary>
        <div class="flex _shopaholic-filter-wrapper js-accordion-content {{obProperty.filter_type == 'between' ? 'mb-4' : ''}}" data-filter-type="{{ obProperty.filter_type }}" data-property-id="{{ obProperty.id }}">
            {% if obProperty.filter_type == 'between' %}
                <div class="_filter-range flex" data-filter-id="{{ obProperty.id }}">
                    <fieldset class="me-3">
                        <legend class="sr-only">{{ obProperty.name }}&nbsp;{{'filter_min'|_}}</legend>
                        {% partial 'form/input'
                            labelText = 'filter_min'|_
                            inputClasses = '_min appearance-none quantity_input'
                            name = 'property-min-'.obProperty.id
                            id = 'property-min-'.obProperty.id
                            type = 'number'
                        %}
                    </fieldset>
                    <fieldset>
                        <legend class="sr-only">{{ obProperty.name }}&nbsp;{{'filter_max'|_}}</legend>
                        {% partial 'form/input'
                            labelText = 'filter_max'|_
                            inputClasses = '_max appearance-none quantity_input'
                            name = 'property-max-'.obProperty.id
                            id = 'property-max-'.obProperty.id
                            type = 'number'
                        %}
                    </fieldset>
                </div>
            {% endif %}
            {% if obProperty.filter_type == 'checkbox' %}
            {% set obPropertyValueList = obProperty.property_value.sort() %}
                {% if obProperty.code != 'Color' %}
                    <fieldset class="me-3 w-full">
                        <legend class="sr-only">{{ obProperty.name }}</legend>
                        {% for obValue in obPropertyValueList %}
                            {% set bChecked = arFilterValue[obProperty.id] is not empty and obValue.slug in arFilterValue[obProperty.id] %}
                            {% set bDisabled = false %}
                            {% if bChecked == false and arFilterValueWithoutProperty[obProperty.id] is not empty %}
                                {% set obProductListTemp = obProductList.copy().filterByProperty(arFilterValueWithoutProperty[obProperty.id], obProductPropertyList).filterByProperty(arFilterValueWithoutProperty[obProperty.id], obOfferPropertyList) %}
                                {% set bDisabled = obValue.isDisabled(obProductListTemp) %}
                            {% endif %}
                            {% partial 'form/input-checkbox'
                                labelText = obValue.value
                                wrapperClasses = 'flex items-center mb-4'
                                inputClasses = 'rounded-sm disabled:opacity-20'
                                disabled = bDisabled
                                checked= bChecked
                                id = obValue.slug
                                value = obValue.slug
                            %}
                        {% endfor %}
                    </fieldset>
                {% endif %}
                {% if obProperty.code == 'Color' %}
                    <fieldset class="flex flex-wrap">
                        <legend class="sr-only">{{ obProperty.name }}</legend>
                        {% partial 'input-color-choose/input-color-choose'
                            obPropertyValueList = obPropertyValueList
                            obProperty = obProperty
                            wrapperClasses = 'me-3'
                            sContainerClasses = 'w-full flex flex-wrap'
                        %}
                    </fieldset>
                {% endif %}
            {% endif %}
        </div>
    </details>
    {% endif %}
{% endfor %}
