title = "Restore password"
url = "/password-restore"
layout = "main"
is_hidden = 0
==
<?php
function onInit()
{
    $this['path_page_js'] = mix('assets/dist/js/password-restore.js', 'themes/lovata-tailwind-shopaholic');

    $obUser = $this['obUser'];

    if (!$this->theme->has_buddies || !empty($obUser)) {
        return $this->controller->run('404');
    }

    $this->addComponent('Lovata\Buddies\Components\RestorePassword', 'RestorePassword', [
        'redirect_on' => 1,
        'redirect_page' => 'password-restore-success',
        'mode' => 'ajax',
    ]);
}
?>
==
{##}

<div class="mt-7 mb-14 flex flex-col items-center">
    <h1 class="font-medium uppercase text-xl md:text-3xl mb-4">{{ 'page_heading_password_restore'|_ }}</h1>
    <div class="max-w-xs">
        <form class="_required">
            {% partial 'input/input'
                sId = 'form-email'
                sLabelText = 'input_email'|_
                sName = 'email'
                sRequired = 'required'
                sType = 'email'
            %}
            {# TODO: Add inline ajax validation for avaibility of the email #}
            {% partial 'button/button'
                sText = 'button_password_restore'|_
                sType = 'submit'
                sPartialClasses = '_button-restore-password w-full mt-8 md:mt-6'
            %}
        </form>
    </div>
</div>
