title = "Reset password"
url = "/reset-password/:slug"
layout = "main"
is_hidden = 0
==
<?php
function onInit()
{
    $obUser = $this['obUser'];

    if (!empty($obUser) || !$this->theme->has_buddies) {
        return $this->controller->run('404');
    }

    $this->addComponent('Lovata\Buddies\Components\ResetPassword', 'ResetPassword', [
        'slug' => '{{ :slug }}',
        'slug_required' => 1,
        'redirect_on' => 1,
        'redirect_page' => 'reset-password-success',
        'mode' => 'ajax',
    ]);
}
?>
==
{##}

<div class="mt-7 mb-14 flex flex-col items-center">
    <h1 class="font-medium uppercase text-xl md:text-3xl mb-4">Create a new password</h1>
    <div class="max-w-xs">
        <form class="_required">
            {% partial 'input/input' sLabelText = 'New password' type = 'password' name = 'password' required = 'required' sId='password' %}
            {% partial 'input/input' sLabelText = 'Confirm new password' type = 'password' name = 'password_confirmation' required = 'required' sPartialClasses = 'mt-4' sId='password_confirmation' %}
            {% partial 'button/button' sText = 'Save new password' sType = 'submit' sPartialClasses = '_button-reset-password w-full mt-8 md:mt-6' %}
        </form>
    </div>
</div>
